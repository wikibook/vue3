import{h as u,_,c as p,u as g,a as h,o as c,b as n,d as s,n as b,t as o,r as f,F as w,e as v,f as x}from"./index-Dx2Isx7B.js";import{a as y}from"./cartService-CGHZ3AnR.js";const $=()=>u.get("/v1/api/items").catch(a=>a.response),S={class:"card shadow-sm"},I=["aria-label"],P={class:"card-body"},N={class:"card-text"},k={class:"me-2"},C={class:"discount badge bg-danger"},B={class:"d-flex justify-content-between align-items-center"},L={class:"price text-muted"},D={class:"real text-danger"},F={__name:"Card",props:{item:{id:Number,imgPath:String,name:String,price:Number,discountPer:Number}},setup(a){const t=a,i=p(()=>(t.item.price-t.item.price*t.item.discountPer/100).toLocaleString()+"원"),e=g(),r=h(),l=async()=>{if(!r.loggedIn){window.confirm("로그인이 필요합니다. 로그인 페이지로 이동하시겠습니까?")&&await e.push("/login");return}(await y(t.item.id)).status===200&&window.confirm("장바구니에 상품을 담았습니다. 장바구니로 이동하시겠습니까?")&&await e.push("/cart")};return(m,d)=>(c(),n("div",S,[s("span",{class:"img",style:b({backgroundImage:`url(${t.item.imgPath})`}),"aria-label":`상품 사진(${t.item.name})`},null,12,I),s("div",P,[s("p",N,[s("span",k,o(t.item.name),1),s("span",C,o(t.item.discountPer)+"%",1)]),s("div",B,[s("button",{class:"btn btn-primary btn-sm",onClick:d[0]||(d[0]=E=>l())},"장바구니 담기"),s("small",L,o(t.item.price.toLocaleString())+"원",1),s("small",D,o(i.value),1)])])]))}},R=_(F,[["__scopeId","data-v-a9d5cd90"]]),V={class:"home"},j={class:"album py-5 bg-light"},q={class:"container"},z={class:"row row-cols-1 row-cols-lg-2 row-cols-xl-3 g-3"},A={class:"col"},J={__name:"Home",setup(a){const t=f({items:[]});return async function(){const e=await $();e.status===200&&(t.items=e.data)}(),(i,e)=>(c(),n("div",V,[s("div",j,[s("div",q,[s("div",z,[(c(!0),n(w,null,v(t.items,r=>(c(),n("div",A,[x(R,{item:r},null,8,["item"])]))),256))])])])]))}};export{J as default};
